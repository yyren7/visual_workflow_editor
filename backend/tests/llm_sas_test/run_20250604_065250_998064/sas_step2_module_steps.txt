```xml
<xml xmlns="https://developers.google.com/blockly/xml">
  <!-- Main Program: Orchestrates the entire robot process -->

  <!-- Initialization Block -->
  <block type="select_robot" id="select_robot_main" x="50" y="50">
    <field name="ROBOT_NAME">dobot_mg400</field>
    <next>
      <block type="set_motor" id="set_motor_on">
        <field name="STATE">TRUE</field>
        <next>
          <block type="connect_external_io" id="connect_ext_io">
            <field name="DEVICE_NAME">External_IO_Unit_1</field>
            <next>
              <block type="set_number" id="init_start_condition">
                <field name="VAR">start_condition</field>
                <value name="VALUE">
                  <block type="math_number">
                    <field name="NUM">2</field>
                  </block>
                </value>
                <next>
                  <block type="moveP" id="move_to_home_initial">
                    <field name="POINT_NAME">P_Home</field>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </next>
  </block>

  <!-- Main Process Loop -->
  <block type="loop" id="main_process_loop" x="50" y="350">
    <statement name="DO">
      <block type="controls_if" id="loop_condition_check">
        <value name="IF0">
          <block type="logic_compare">
            <field name="OP">EQ</field>
            <value name="A">
              <block type="math_custom_number">
                <field name="VAR">start_condition</field>
              </block>
            </value>
            <value name="B">
              <block type="math_number">
                <field name="NUM">2</field>
              </block>
            </value>
          </block>
        </value>
        <statement name="DO0">
          <!-- (Optional/Disabled Logic) Wait for external start signal -->
          <block type="wait_external_io_input" id="wait_start_signal" disabled="true">
            <field name="DEVICE_NAME">External_IO_Unit_1</field>
            <field name="PIN">Ext_IO_1</field>
            <field name="STATE">TRUE</field>
            <next>
              <!-- Call sub-program: Get Bearing from Initial Position -->
              <block type="procedures_callnoreturn" id="call_get_brg_initial_pos">
                <field name="NAME">Get_BRG_InitialPos</field>
                <next>
                  <block type="moveP" id="move_to_home_after_brg_get">
                    <field name="POINT_NAME">P_Home</field>
                    <next>
                      <!-- Wait for RMC ready for bearing signal -->
                      <block type="wait_external_io_input" id="wait_rmc_brg_ready">
                        <field name="DEVICE_NAME">External_IO_Unit_1</field>
                        <field name="PIN">Ext_IO_2</field>
                        <field name="STATE">TRUE</field>
                        <next>
                          <!-- Call sub-program: Place Bearing into RMC -->
                          <block type="procedures_callnoreturn" id="call_rmc_put_brg">
                            <field name="NAME">RMC_Put_BRG</field>
                            <next>
                              <block type="moveP" id="move_to_home_after_brg_put">
                                <field name="POINT_NAME">P_Home</field>
                                <next>
                                  <!-- Call sub-program: Get Bearing Housing from Initial Position -->
                                  <block type="procedures_callnoreturn" id="call_get_bh_initial_pos">
                                    <field name="NAME">Get_BH_InitialPos</field>
                                    <next>
                                      <block type="moveP" id="move_to_home_after_bh_get">
                                        <field name="POINT_NAME">P_Home</field>
                                        <next>
                                          <!-- Wait for RMC ready for bearing housing signal -->
                                          <block type="wait_external_io_input" id="wait_rmc_bh_ready">
                                            <field name="DEVICE_NAME">External_IO_Unit_1</field>
                                            <field name="PIN">Ext_IO_3</field>
                                            <field name="STATE">TRUE</field>
                                            <next>
                                              <!-- Call sub-program: Place Bearing Housing into RMC -->
                                              <block type="procedures_callnoreturn" id="call_rmc_put_bh">
                                                <field name="NAME">RMC_Put_BH</field>
                                                <next>
                                                  <!-- Wait for RMC machining complete signal -->
                                                  <block type="wait_external_io_input" id="wait_rmc_done">
                                                    <field name="DEVICE_NAME">External_IO_Unit_1</field>
                                                    <field name="PIN">Ext_IO_4</field>
                                                    <field name="STATE">TRUE</field>
                                                    <next>
                                                      <!-- Send signal to notify RMC that part has been taken -->
                                                      <!-- Note: Using 'set_external_io_output_during' for sequential pulse, as 'set_external_io_output_upon' requires an event trigger block which would break sequential flow. -->
                                                      <block type="set_external_io_output_during" id="send_rmc_part_taken">
                                                        <field name="DEVICE_NAME">External_IO_Unit_1</field>
                                                        <field name="PIN">Ext_IO_6</field>
                                                        <field name="STATE">TRUE</field>
                                                        <value name="DURATION">
                                                          <block type="math_number">
                                                            <field name="NUM">100</field>
                                                          </block>
                                                        </value>
                                                        <next>
                                                          <!-- Wait for RMC confirmation signal -->
                                                          <block type="wait_external_io_input" id="wait_rmc_confirm">
                                                            <field name="DEVICE_NAME">External_IO_Unit_1</field>
                                                            <field name="PIN">Ext_IO_5</field>
                                                            <field name="STATE">TRUE</field>
                                                            <next>
                                                              <!-- Call sub-program: Get Assembled Part from RMC -->
                                                              <block type="procedures_callnoreturn" id="call_rmc_get_assembled_part">
                                                                <field name="NAME">RMC_Get_Assembled_Part</field>
                                                                <next>
                                                                  <block type="moveP" id="move_to_home_after_rmc_get">
                                                                    <field name="POINT_NAME">P_Home</field>
                                                                    <next>
                                                                      <!-- Call sub-program: Place Part into LMC for Temporary Storage -->
                                                                      <block type="procedures_callnoreturn" id="call_lmc_put_temp_storage">
                                                                        <field name="NAME">LMC_Put_Temp_Storage</field>
                                                                        <next>
                                                                          <block type="moveP" id="move_to_home_after_lmc_put">
                                                                            <field name="POINT_NAME">P_Home</field>
                                                                            <next>
                                                                              <!-- Call sub-program: Get Pallet from Conveyor -->
                                                                              <block type="procedures_callnoreturn" id="call_cnv_get_plt">
                                                                                <field name="NAME">CNV_Get_PLT</field>
                                                                                <next>
                                                                                  <!-- Call sub-program: Place Pallet onto Conveyor -->
                                                                                  <block type="procedures_callnoreturn" id="call_cnv_put_plt">
                                                                                    <field name="NAME">CNV_Put_PLT</field>
                                                                                    <next>
                                                                                      <block type="moveP" id="move_to_home_after_cnv_plt">
                                                                                        <field name="POINT_NAME">P_Home</field>
                                                                                        <next>
                                                                                          <!-- Call sub-program: Get Stored Part from LMC -->
                                                                                          <block type="procedures_callnoreturn" id="call_lmc_get_stored_part">
                                                                                            <field name="NAME">LMC_Get_Stored_Part</field>
                                                                                            <next>
                                                                                              <block type="moveP" id="move_to_home_after_lmc_get">
                                                                                                <field name="POINT_NAME">P_Home</field>
                                                                                                <next>
                                                                                                  <!-- Call sub-program: Place Part onto Pallet on Conveyor -->
                                                                                                  <block type="procedures_callnoreturn" id="call_cnv_put_part_on_plt">
                                                                                                    <field name="NAME">CNV_Put_Part_On_PLT</field>
                                                                                                    <next>
                                                                                                      <!-- (Optional/Disabled Logic) Send task complete signal to external system -->
                                                                                                      <!-- Note: Using 'set_external_io_output_during' for sequential pulse, as 'set_external_io_output_upon' requires an event trigger block which would break sequential flow. -->
                                                                                                      <block type="set_external_io_output_during" id="send_task_complete" disabled="true">
                                                                                                        <field name="DEVICE_NAME">External_IO_Unit_1</field>
                                                                                                        <field name="PIN">Ext_IO_7</field>
                                                                                                        <field name="STATE">TRUE</field>
                                                                                                        <value name="DURATION">
                                                                                                          <block type="math_number">
                                                                                                            <field name="NUM">100</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                        <next>
                                                                                                          <block type="return" id="return_to_loop_start"></block>
                                                                                                        </next>
                                                                                                      </block>
                                                                                                    </next>
                                                                                                  </block>
                                                                                                </next>
                                                                                              </block>
                                                                                            </next>
                                                                                          </block>
                                                                                        </next>
                                                                                      </block>
                                                                                    </next>
                                                                                  </block>
                                                                                </next>
                                                                              </block>
                                                                            </next>
                                                                          </block>
                                                                        </next>
                                                                      </block>
                                                                    </next>
                                                                  </block>
                                                                </next>
                                                              </block>
                                                            </next>
                                                          </block>
                                                        </next>
                                                      </block>
                                                    </next>
                                                  </block>
                                                </next>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </statement>
      </block>
    </statement>
  </block>
</xml>
```