# 埋め込みモデル評価レポート

## 要旨

本レポートは、ロボット API 文書のための埋め込みモデルのテスト結果と性能評価を示します。MG400 ロボットの 67 の API 文書ファイルを用いて、埋め込みベクトルの生成性能、検索精度、および多言語対応能力を評価しました。

## 1. テスト概要

### 1.1 基本埋め込みモデルテスト

- 対象データベース：`/workspace/database/document_database/mg400`
- 処理対象：67 件の JSON 形式 API 文書
- テスト内容：文書の埋め込みベクトル生成と類似度検索機能

### 1.2 性能評価項目

- 埋め込みベクトル生成時間
- 埋め込みベクトル品質
- 多言語検索能力

## 2. データ処理結果

### 2.1 文書インポート

67 件の JSON 文書ファイルを処理し、それぞれに埋め込みベクトルを生成しました。処理されたファイルには以下が含まれます：

- `MovJExt_api.json`
- `DOExecute_api.json`
- `StartDrag_api.json`
- その他 64 件の API 文書ファイル

### 2.2 類似度検索テスト

`MovJExt_api.json`を用いた類似度検索で、以下の 5 件の関連文書が特定されました：

1. ID: 1, 文書: MovJExt API（類似度スコア：最高）
2. ID: 50, 文書: RelJointMovJ API
3. ID: 23, 文書: SpeedFactor API
4. ID: 27, 文書: Sync API
5. ID: 13, 文書: MovLIO API

## 3. 性能評価結果

### 3.1 埋め込みベクトル生成性能

- 平均生成時間：0.5916 秒
- 最短生成時間：0.3258 秒
- 最長生成時間：0.6846 秒

### 3.2 埋め込みベクトル品質

- 平均文書類似度：0.8767
- 品質評価エラー：「ラベル数は 77 です。有効な値は 2 からサンプル数-1（包括的）までです。」

### 3.3 多言語検索能力評価

#### 3.3.1 中国語クエリ

クエリ：「工業機器人如何執行運動控制？」（工業用ロボットはどのように動作制御を行いますか？）
上位 3 件の結果：

1. 類似度: 0.3594, 文書 ID: 40, 内容: RobotMode API
2. 類似度: 0.3027, 文書 ID: 1, 内容: MovJExt API
3. 類似度: 0.3027, 文書 ID: 76, 内容: MovJExt API

#### 3.3.2 英語クエリ

クエリ：「How does an industrial robot perform motion control?」
上位 3 件の結果：

1. 類似度: 0.3965, 文書 ID: 40, 内容: RobotMode API
2. 類似度: 0.3837, 文書 ID: 1, 内容: MovJExt API
3. 類似度: 0.3837, 文書 ID: 76, 内容: MovJExt API

#### 3.3.3 日本語クエリ

クエリ：「産業用ロボットはどのように動作制御を行いますか？」
上位 3 件の結果：

1. 類似度: 0.3006, 文書 ID: 40, 内容: RobotMode API
2. 類似度: 0.2976, 文書 ID: 18, 内容: MovJIO API
3. 類似度: 0.2976, 文書 ID: 68, 内容: MovJIO API

## 4. 結論と考察

本テストでは、MG400 ロボットの API 文書に対する埋め込みモデルの性能を評価しました。モデルは全 67 件の API 文書に対して埋め込みベクトルを正常に生成し、平均 0.59 秒程度の処理時間を示しました。

多言語検索テストでは、異なる言語（中国語、英語、日本語）で同様の質問を行った場合も、概ね一貫した検索結果を返すことができましたが、言語によって類似度スコアには若干の差異が見られました。特に英語クエリが最も高い類似度スコアを示す傾向がありました。

一部の品質評価テストにおいてエラーが発生したため、さらなる改善の余地があると考えられます。

## 5. 添付資料

- テスト対象：MG400 ロボット API 文書（67 件）
- テスト環境：ローカル開発環境
- テスト日時：記載なし

---

_本レポートは自動生成されたテスト結果を基に作成されています。_
